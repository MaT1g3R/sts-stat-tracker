(()=>{(function(){function g(a){if(!a||a.hasAttribute("data-initialized"))return;a.setAttribute("data-initialized","true");let i=a.querySelector("[data-text-input]"),s=a.querySelector("[data-hidden-inputs]"),l=a.querySelector("[data-tags-container]"),m=a.dataset.name,d=i?i.hasAttribute("disabled"):!1;if(!i)return;function h(t,e){let n=document.createElement("div");n.setAttribute("data-tag-chip",""),n.className="inline-flex items-center gap-2 rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary text-primary-foreground";let r=document.createElement("span");r.textContent=t;let o=document.createElement("button");return o.type="button",o.className="ml-1 text-current hover:text-destructive disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",o.setAttribute("data-tag-remove",""),e&&(o.disabled=!0),o.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 pointer-events-none" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      `,n.appendChild(r),n.appendChild(o),n}function v(t){if(d)return;let e=t.trim();if(!e)return;let n=s.querySelectorAll('input[type="hidden"]');for(let y of n)if(y.value.toLowerCase()===e.toLowerCase()){i.value="";return}let r=h(e,d),o=document.createElement("input");o.type="hidden",o.name=m,o.value=e,l.appendChild(r),s.appendChild(o),i.value=""}function c(t){if(d)return;let e=t.closest("[data-tag-chip]");if(!e)return;let n=e.querySelector("span").textContent.trim(),r=s.querySelector(`input[type="hidden"][value="${n}"]`);r&&r.remove(),e.remove()}function p(t){if(t.key==="Enter"||t.key===",")t.preventDefault(),v(i.value);else if(t.key==="Backspace"&&i.value===""){t.preventDefault();let e=l.querySelector("[data-tag-chip]:last-child");if(e){let n=e.querySelector("[data-tag-remove]");n&&c(n)}}}function f(t){t.target.closest("[data-tag-remove]")?(t.preventDefault(),t.stopPropagation(),c(t.target.closest("[data-tag-remove]"))):t.target.closest("input")||i.focus()}i.removeEventListener("keydown",p),i.addEventListener("keydown",p),a.removeEventListener("click",f),a.addEventListener("click",f)}function u(a=document){a.querySelectorAll("[data-tags-input]:not([data-initialized])").forEach(g)}window.templUI=window.templUI||{},window.templUI.tagsInput={init:u},document.addEventListener("DOMContentLoaded",()=>u())})();})();
