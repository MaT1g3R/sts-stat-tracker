(()=>{(function(){let d=new Map;function w(t,i){document.querySelectorAll(`[data-drawer-trigger="${t}"]`).forEach(e=>{e.setAttribute("data-open",i)})}function g(t,i){if(i)return"translate(0)";switch(t){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)";default:return"translateX(100%)"}}function E(t){if(!t||t.hasAttribute("data-initialized"))return null;t.setAttribute("data-initialized","true");let i=t.id,e=document.getElementById(i+"-content"),v=e?.getAttribute("data-drawer-position")||"right",u=t.hasAttribute("data-initial-open");if(!e||!i)return null;let a=u;function o(n){a=n;let s=n?"block":"none",l=n?"1":"0";t.style.display=s,e.style.display=s,t.style.opacity=l,e.style.opacity=l,e.style.transform=g(v,n),t.setAttribute("data-open",n),w(i,n),document.body.style.overflow=n?"hidden":""}function y(){t.style.display="block",e.style.display="block",e.offsetHeight,t.style.transition="opacity 300ms ease",e.style.transition="opacity 300ms ease, transform 300ms ease",o(!0),t.addEventListener("click",r),document.addEventListener("keydown",f),document.addEventListener("click",m)}function r(){o(!1),t.removeEventListener("click",r),document.removeEventListener("keydown",f),document.removeEventListener("click",m),setTimeout(()=>{a||(t.style.display="none",e.style.display="none")},300)}function A(){a?r():y()}function f(n){n.key==="Escape"&&a&&r()}function m(n){!e.contains(n.target)&&!h(n.target)&&r()}function h(n){let s=document.querySelectorAll(`[data-drawer-trigger="${i}"]`);return Array.from(s).some(l=>l.contains(n))}return e.querySelectorAll("[data-drawer-close]").forEach(n=>{n.addEventListener("click",r)}),e.querySelector("[data-drawer-inner]")?.addEventListener("click",n=>{n.stopPropagation()}),o(u),{open:y,close:r,toggle:A}}function c(t=document){t.querySelectorAll('[data-component="drawer"]:not([data-initialized])').forEach(i=>{let e=E(i);e&&i.id&&d.set(i.id,e)}),t.querySelectorAll("[data-drawer-trigger]").forEach(i=>{if(i.dataset.initialized)return;i.dataset.initialized="true";let e=i.getAttribute("data-drawer-trigger");i.addEventListener("click",()=>{d.get(e)?.toggle()})})}window.templUI=window.templUI||{},window.templUI.drawer={init:c},document.addEventListener("DOMContentLoaded",()=>c())})();})();
